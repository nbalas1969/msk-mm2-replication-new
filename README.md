# MSK MirrorMaker 2 Terraform Project

This repository provisions a scalable, production-grade AWS infrastructure for cross-region Kafka topic replication using **Amazon MSK**, **MSK Connect**, and **Apache MirrorMaker 2 (MM2)**. Built entirely with Terraform and driven by modular IaC principles.

---

## 📦 Features

- ⚙️ Modular infrastructure using `msk-connect`, `vpc-peering`, and `notifications`
- 🌐 Multi-region VPC peering with automatic CIDR route configuration
- 🔁 MirrorMaker 2 replication with custom plugin support
- 🚨 Post-deploy notifications to Microsoft Teams, SNS Email, or AWS SSM
- 📜 Configurable via `.tfvars`, reusable in CI/CD
- 🔍 Validation helpers for offset monitoring and connector health

---

## 🗂️ Project Structure
<<root>>:\msk-mm2-mirror-project\
├── .github\
│   └── workflows\
│       └── terraform.yml         # ← CI pipeline for Terraform validate + plan
├── modules\
│   ├── msk-connect\
│   ├── vpc-peering\
│   └── notifications\
├── scripts\
│   └── get-vpc-peering-inputs.sh
├── main.tf
├── variables.tf
├── outputs.tf
├── terraform.tfvars.example
├── .gitignore
├── .gitattributes               # ← (optional) Normalizes line endings across OSes
├── README.md


---

## 🚀 Quick Start

```bash
terraform init
terraform plan -var-file="terraform.tfvars"
terraform apply

🔔 Optional Notifications
Enable Microsoft Teams notifications by setting the following in your terraform.tfvars:
enable_notifications       = true
enable_teams_notification  = true
teams_webhook_url          = "https://<your-teams-webhook>"
test_notification_mode     = false


For SSM and email SNS delivery, refer to modules/notifications.

🧪 Validate Post-Deployment
bash scripts/validate-mm2-replication.sh


Checks include:
- MSK Connect connector status
- Mirrored topics in destination cluster
- (Optional) Add consumer lag checks

📄 Generated by
- Copilot + Balasubramanyam
- July 2025 · Hyderabad, India 🇮🇳

---

### ✅ Commit and Push It

From your project root, run:

```bash
git add README.md
git commit -m "Add project README"
git push origin main --force

